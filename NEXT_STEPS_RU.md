# Что делать дальше с приложением EventParser

Поздравляем! Вы успешно настроили приложение EventParser. Вот что вы можете делать дальше:

## 1. Запуск приложения

### Запуск через Maven

Если у вас установлен Maven:

```bash
mvn clean package
java -jar target\event-parser-1.0-SNAPSHOT.jar
```

### Запуск через IDE

Откройте класс `src\main\java\com\eventparser\EventParserApplication.java` в вашей IDE (IntelliJ IDEA или Eclipse) и запустите его как Java-приложение.

## 2. Проверка работы Telegram-бота

1. Найдите вашего бота в Telegram по имени пользователя: `@eeevent_parser_bot`
2. Отправьте ему сообщение `/start`
3. Бот должен ответить приветственным сообщением

## 3. Настройка парсинга мероприятий

В файле `application.properties` вы можете настроить источники для парсинга мероприятий:

```properties
parser.sources=https://www.meetup.com/find/events/, https://www.eventbrite.com/d/online/all-events/
```

Замените эти URL на адреса сайтов, с которых вы хотите парсить мероприятия.

## 4. Настройка расписания парсинга

По умолчанию парсинг мероприятий выполняется каждый час. Вы можете изменить это расписание, отредактировав аннотацию `@Scheduled` в классе `EventParsingScheduler.java`:

```java
@Scheduled(cron = "0 0 * * * *") // Каждый час
```

Например, для запуска каждые 30 минут:

```java
@Scheduled(cron = "0 0/30 * * * *")
```

## 5. Мониторинг работы приложения

Логи приложения сохраняются в файл `logs/eventparser.log`. Вы можете просматривать этот файл для отслеживания работы приложения.

## 6. Проверка базы данных

Вы можете подключиться к базе данных PostgreSQL и проверить таблицу `events`:

```sql
SELECT * FROM events;
```

## 7. Ручной запуск парсинга

Если вы хотите запустить парсинг вручную, вы можете создать REST-контроллер, который будет вызывать метод `parseEventsFromSources` класса `EventParsingScheduler`.

## 8. Настройка шаблонов сообщений

Вы можете изменить шаблоны сообщений, отправляемых организаторам мероприятий, отредактировав метод `createEmailContent` в классе `EmailSender.java`.

## 9. Расширение функциональности

Вы можете добавить новые источники для парсинга мероприятий, создав новые реализации интерфейса `EventParser`.

## 10. Развертывание в Docker

Для запуска приложения в Docker:

```bash
docker build -t event-parser .
docker run -p 8080:8080 --name event-parser-container -d event-parser
```

## Возможные проблемы и их решения

### База данных

- **Ошибка подключения к базе данных**: Убедитесь, что PostgreSQL запущен и доступен по указанному URL
- **Ошибка аутентификации**: Проверьте правильность имени пользователя и пароля

### Telegram-бот

- **Бот не отвечает**: Убедитесь, что токен бота указан правильно
- **Ошибка инициализации бота**: Проверьте, что имя пользователя бота указано без символа @

### Email

- **Ошибка аутентификации**: Для Gmail убедитесь, что вы используете пароль приложения, а не обычный пароль
- **Ошибка подключения к SMTP-серверу**: Проверьте настройки SMTP-сервера и порта

### Парсинг

- **Не удается спарсить мероприятия**: Сайт может изменить свою HTML-структуру, потребуется обновить CSS-селекторы
- **Ошибка подключения к сайту**: Сайт может блокировать запросы, попробуйте изменить User-Agent или добавить задержку между запросами